<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<meta name="format-detection" content="telephone=no" />
	<meta name="format-detection" content="email=no" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-touch-fullscreen" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" /> 
	<title>个人信息</title>
	<link rel="stylesheet" href="css/normalize.css" />
	<link rel="stylesheet" href="css/style.css" />
</head>
<body>
	<div id="page">
		<header id="header" class="header">
			<h1 class="headline">个人信息</h1>
			<a href="javascript:history.go(-1);" class="btn-go-back" ></a>
		</header>
		<div class="BottomNav clearfix">
			<a href="index.html"><i class="home"></i>首页</a>
			<a href="management.html"><i class="manage"></i>农事管理</a>
			<a href="account.html" class="highlight"><i class="account"></i>我的账号</a>
		</div>
		<main id="main"class="main">
			<div class="main-wrapper">
				<div class="form personalinfo">
					<form id="personalInfoForm" autocomplete="off">
						<div class="FormItem clearfix">
							<div class="label"><label>工号</label></div>
							<div class="field"><input type="text" name="jobnum" class="input-txt required jobnum" /></div>
						</div>
						<div class="FormItem clearfix">
							<div class="label"><label>姓名</label></div>
							<div class="field"><input type="text" name="name" class="input-txt required name" /></div>
						</div>
						<div class="FormItem rd clearfix">
							<div class="label"><label>性别</label></div>
							<div class="field">
								<input id="male" type="radio" name="gender" class="rd gender required" value="1"  checked="checked" />
								<label for="male">男</label>
							</div>
							<div class="field">
								<input id="female" type="radio" name="gender" class="rd gender required" value="2" />
								<label for="female">女</label>
							</div>
						</div>
						<div class="FormItem clearfix">
							<div class="label"><label>类型</label></div>
							<div class="field">
								<select name="type" id="type" class="type required">
									<option value="0">合同</option>
									<option value="1">临时工</option>
									<option value="2">小时工</option>
									<option value="3">承包</option>
								</select>
							</div>
						</div>
						<div class="button">
						  	<div class="errorMessage"></div>
							<input class="a01" type="reset" value="取消"/>
							<input class="a02 btn-submit" type="submit" value="保存"/>
						</div>
					</form>
				</div>
			</div>
		</main>
		<div id="messageBox"></div>
	</div>
	<script type="text/javascript" src="scripts/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="scripts/script.js"></script>
	<script type="text/javascript">
		$(document).ready(function () {
			var $form = $('#personalInfoForm'),
				$required = $form.find('.required'),
				$submit = $form.find('.btn-submit'),
				$messageBox = $('#messageBox');

			enableSubmit();

			$required.on('input', enableSubmit);
			$form.submit(function () {
				$messageBox.html('提交成功！').fadeIn().delay(1000).fadeOut(300, function () {
					window.location.href = 'account.html';
				});

				return false;
			})

			function enableSubmit() {
				var enable = true;

				for (var i = 0; i < $required.length; i++) {
					var $this = $required.eq(i);
					if ($this.val().length <= 0) {
						enable = false;
					}
				}

				if (enable) {
					$submit.removeClass('disabled').attr('disabled', false);
				} else {
					$submit.addClass('disabled').attr('disabled', true);
				}
			}
		})
	</script>
</body>
</html>